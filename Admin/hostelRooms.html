<!DOCTYPE html>
<html>

<head>
    <title>Hostel Rooms</title>
    <link rel="stylesheet" href="css/navBar.css">
    <link rel="stylesheet" href="css/cards.css">
</head>

<body>

    <nav class="navbar">
        <div class="logo">HostelManager</div>
        <ul>
            <li><a href="index.html">Dashboard</a></li>
            <li><a href="allHostels.html">My Hostels</a></li>
            <li><a href="addHostel.html">Add Hostel</a></li>
        </ul>
    </nav>

    <div class="cards">

    </div>

</body>
<script>
    (() => {
        if (localStorage.getItem('managerData') === null) {

            window.open('llogin.html', '_self')
            console.log('runed');
        } console.log(localStorage.getItem('managerData'));
    })()
    let ul = document.querySelector('ul');
    let li = document.createElement('li');
    let atag = document.createElement('a');

    atag.innerText = 'Logout';
    atag.addEventListener('click', () => {
        localStorage.removeItem('managerData');
        window.open('login.html', '_self');
    });
    li.append(atag);
    ul.append(li);
    const rooms = JSON.parse(localStorage.getItem('rooms'))
    function makeCards() {
        let cards = document.querySelector('.cards');
        rooms.forEach(room => {
            let card = document.createElement("div");
            card.setAttribute('class', 'card')
            card.innerHTML = `
                <h3>Room No : ${room.roomNo}</h3>
                <p>Capacity: ${room.capacity}</p>
                <p>Occupied: ${room.occupied}</p>
                <p>Price : ${room.price}</p>
                <button>View Room</button>
            `;
            cards.append(card);
        });
    }
    makeCards();
</script>

</html>